<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    @@include('./layout/backend/backend_link.html')

    <title>鳥語鳥嶼後台管理</title>
</head>
<body class="backend_body">
    <div id="app">
        <backheader @chg="changeleft"></backheader>
       
        <!-- <back1 :h1="title"></back1> -->
        <component :is="page" :h1="title"></component>
    </div>
    

    <script src="./js/backend.min.js"></script>
    <script src="./js/backend2.min.js"></script>
    <script src="./js/backend3.min.js"></script>
    <script src="./js/backend4.min.js"></script>
    <script src="./js/backend5.min.js"></script>
    <script src="./js/backend6.min.js"></script>
    <script src="./js/backend7.min.js"></script>
    <script src="./js/backendheader.min.js"></script>
    <script>
        Vue.component('back1',{
            props:['h1'],
            data(){
                return{
                    content:'',
                    php:[],
                    php2:[],
                    php3:[],
                    php4:[],
                }
            },
            template:`
                <main class="backend_main">
                    <div class="backend_main_top">
                        <h1>{{h1}}</h1>              
                        <h3 class="click">登出</h3>
                    </div>
                    <btn @chg='change'></btn>

                    <component :is='content'  :infor='php' :infor2='php2' :infor3='php3' :infor4='php4'></component>
                    
                </main>
                `,
            methods:{
                change(e,page){
                    $('.backend_ul_page').find('.nowpage').removeClass('nowpage');
                    e.classList.add('nowpage')
                    this.content = page
                },
            },
            created() {
                const url1 = './php/backend1_1.php';
                fetch(url1)
                    .then(response => response.json())
                    .then((text) =>{
                        this.php = text
                    } );
                const url2 = './php/backend1_2.php';
                fetch(url2)
                    .then(response => response.json())
                    .then((text) =>{
                        this.php2 = text
                    } );
                const url3 = './php/backend1_3.php';
                fetch(url3)
                    .then(response => response.json())
                    .then((text) =>{
                        this.php3 = text
                    } );
                const url4 = './php/backend1_4.php';
                fetch(url4)
                    .then(response => response.json())
                    .then((text) =>{
                        this.php4 = text
                    } ); 
            },
        })
        let vm = new Vue({
            el:'#app',
            data:{
                content:'',
                datalist:[],
                list:[],
                title:'貼文管理',
                page:'back1',
            },
            methods: {
                changeleft(e,n,v){
                    $('.backend_header').find('.backend_header_now').removeClass('backend_header_now');
                        e.classList.add('backend_header_now')
                    this.page = n
                    this.title=v
                }
            },
        });
    </script>
</body>
</html>